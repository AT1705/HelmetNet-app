<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HelmetNet</title>

  <!-- Tailwind v4 Play CDN (no build step). -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <!-- Lucide icons (vanilla JS). -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    /* Ensure a true edge-to-edge canvas when embedded in Streamlit. */
    html, body { height: 100%; margin: 0; padding: 0; }
    body { background: #f8fafc; }

    /* Avoid accidental horizontal scroll from fixed elements. */
    #hn-app { width: 100%; overflow-x: hidden; }

    /* Make the Streamlit embed behave like a normal site root. */
    .hn-page { min-height: 100vh; }

    /* Small accessibility tweak: respect reduced motion. */
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
    }
  </style>
</head>
<body>
  <div id="hn-app" class="min-h-screen bg-slate-50">
    <!-- NAV -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <button id="nav-brand" class="flex items-center gap-2 cursor-pointer" type="button" aria-label="HelmetNet Home">
            <i data-lucide="shield" class="size-8 text-slate-700"></i>
            <span class="font-bold text-xl text-slate-900">HelmetNet</span>
          </button>

          <div class="flex gap-8 items-center">
            <button id="nav-home" class="transition-colors font-medium" type="button">Home</button>
            <button id="nav-about" class="transition-colors font-medium" type="button">About</button>
            <button id="nav-demo" class="px-6 py-2.5 rounded-xl transition-all font-semibold shadow-md hover:shadow-lg bg-amber-500 text-slate-900 hover:bg-amber-400" type="button">Start Demo</button>
          </div>
        </div>
      </div>
    </nav>

    <!-- HOME PAGE -->
    <main id="page-home" class="hn-page">
      <!-- Hero Section -->
      <section class="relative h-[90vh] flex items-center">
        <div class="absolute inset-0 bg-gradient-to-br from-slate-800 to-slate-900">
          <img
            src="https://images.unsplash.com/photo-1645094118521-5c72e98985e5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb3RvcmN5Y2xlJTIwaGVsbWV0JTIwcmlkZXJ8ZW58MXx8fHwxNzY4NDgyNTU2fDA&ixlib=rb-4.1.0&q=80&w=1080"
            alt="Motorcycle rider with helmet"
            class="w-full h-full object-cover opacity-20"
          />
        </div>
        <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-white">
          <div class="max-w-3xl">
            <div class="flex items-center gap-2 mb-6">
              <i data-lucide="shield" class="size-12"></i>
              <span class="text-sm font-semibold tracking-wider uppercase">AI-Powered Road Safety</span>
            </div>
            <h1 class="text-6xl font-bold mb-6">Protecting Lives Through Intelligent Helmet Detection</h1>
            <p class="text-xl mb-8 text-gray-200">HelmetNet uses cutting-edge artificial intelligence to automatically detect and monitor motorcycle helmet compliance, making roads safer for everyone.</p>
            <div class="flex gap-4">
              <button id="hero-try-demo" class="px-8 py-4 bg-amber-500 text-slate-900 rounded-xl font-semibold hover:bg-amber-400 transition-all shadow-xl hover:shadow-2xl hover:scale-105" type="button">
                Try Demo Now
              </button>
              <button id="hero-learn-more" class="px-8 py-4 border-2 border-white text-white rounded-xl font-semibold hover:bg-white/10 transition-all" type="button">
                Learn More
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Stats Section -->
      <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            <div class="text-center">
              <div class="text-4xl font-bold text-slate-800 mb-2">99.2%</div>
              <div class="text-gray-600">Detection Accuracy</div>
            </div>
            <div class="text-center">
              <div class="text-4xl font-bold text-slate-800 mb-2">50K+</div>
              <div class="text-gray-600">Daily Scans</div>
            </div>
            <div class="text-center">
              <div class="text-4xl font-bold text-slate-800 mb-2">35%</div>
              <div class="text-gray-600">Reduction in Violations</div>
            </div>
            <div class="text-center">
              <div class="text-4xl font-bold text-slate-800 mb-2">24/7</div>
              <div class="text-gray-600">Monitoring</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="py-20 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-bold mb-4 text-slate-900">Powerful Features for Road Safety</h2>
            <p class="text-xl text-gray-600">Advanced technology designed to save lives and improve traffic safety compliance</p>
          </div>
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-400 hover:shadow-xl transition-all duration-300">
              <div class="size-12 bg-slate-100 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="camera" class="size-6 text-slate-700"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2 text-slate-900">Real-Time Detection</h3>
              <p class="text-gray-600 text-sm">Advanced AI algorithms detect helmet compliance in milliseconds with 99.2% accuracy.</p>
            </div>

            <div class="bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-400 hover:shadow-xl transition-all duration-300">
              <div class="size-12 bg-slate-100 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="shield" class="size-6 text-slate-700"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2 text-slate-900">Enhanced Safety</h3>
              <p class="text-gray-600 text-sm">Automated monitoring ensures consistent enforcement of helmet safety regulations.</p>
            </div>

            <div class="bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-400 hover:shadow-xl transition-all duration-300">
              <div class="size-12 bg-slate-100 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="zap" class="size-6 text-slate-700"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2 text-slate-900">Instant Alerts</h3>
              <p class="text-gray-600 text-sm">Immediate notifications to traffic authorities when violations are detected.</p>
            </div>

            <div class="bg-white p-6 rounded-xl border border-slate-200 hover:border-slate-400 hover:shadow-xl transition-all duration-300">
              <div class="size-12 bg-slate-100 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="trending-up" class="size-6 text-slate-700"></i>
              </div>
              <h3 class="text-xl font-semibold mb-2 text-slate-900">Analytics Dashboard</h3>
              <p class="text-gray-600 text-sm">Comprehensive insights into compliance rates and traffic patterns over time.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- How It Works Section -->
      <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-bold mb-4 text-slate-900">How HelmetNet Works</h2>
            <p class="text-xl text-gray-600">Simple, accurate, and reliable</p>
          </div>
          <div class="grid md:grid-cols-3 gap-8">
            <div class="text-center">
              <div class="size-20 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold shadow-lg">1</div>
              <h3 class="text-xl font-semibold mb-3 text-slate-900">Capture</h3>
              <p class="text-gray-600">High-resolution cameras continuously monitor traffic and capture motorcycle riders</p>
            </div>
            <div class="text-center">
              <div class="size-20 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold shadow-lg">2</div>
              <h3 class="text-xl font-semibold mb-3 text-slate-900">Analyze</h3>
              <p class="text-gray-600">AI algorithms instantly detect and verify helmet presence with high accuracy</p>
            </div>
            <div class="text-center">
              <div class="size-20 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold shadow-lg">3</div>
              <h3 class="text-xl font-semibold mb-3 text-slate-900">Alert</h3>
              <p class="text-gray-600">Automated notifications sent to authorities for immediate action on violations</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Impact Section -->
      <section class="py-20 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid md:grid-cols-2 gap-12 items-center">
            <div>
              <h2 class="text-4xl font-bold mb-6 text-slate-900">Making a Real Impact</h2>
              <p class="text-lg text-gray-600 mb-8">Cities implementing HelmetNet have seen significant improvements in road safety and helmet compliance rates.</p>
              <div class="space-y-4">
                <div class="flex items-start gap-3">
                  <i data-lucide="check-circle" class="size-6 text-green-500 flex-shrink-0 mt-1"></i>
                  <div>
                    <div class="font-semibold text-slate-900">Reduced Road Fatalities</div>
                    <div class="text-gray-600">28% decrease in motorcycle-related deaths in pilot cities</div>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <i data-lucide="check-circle" class="size-6 text-green-500 flex-shrink-0 mt-1"></i>
                  <div>
                    <div class="font-semibold text-slate-900">Improved Compliance</div>
                    <div class="text-gray-600">Helmet usage increased from 65% to 91% within 6 months</div>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <i data-lucide="check-circle" class="size-6 text-green-500 flex-shrink-0 mt-1"></i>
                  <div>
                    <div class="font-semibold text-slate-900">Efficient Enforcement</div>
                    <div class="text-gray-600">Automated system reduces manual monitoring costs by 70%</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="relative h-[500px] rounded-xl overflow-hidden shadow-2xl border border-slate-200">
              <img
                src="https://images.unsplash.com/photo-1766524872202-ae69163a4218?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0cmFmZmljJTIwc2FmZXR5JTIwY2FtZXJhfGVufDF8fHx8MTc2ODQ4MjU1N3ww&ixlib=rb-4.1.0&q=80&w=1080"
                alt="Traffic monitoring"
                class="w-full h-full object-cover"
              />
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="py-20 bg-gradient-to-br from-slate-800 to-slate-900 text-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <h2 class="text-4xl font-bold mb-6">Ready to See It in Action?</h2>
          <p class="text-xl mb-8 text-gray-300">Experience the power of AI-driven helmet detection with our interactive demo</p>
          <button id="cta-launch-demo" class="px-10 py-4 bg-amber-500 text-slate-900 rounded-xl font-semibold hover:bg-amber-400 transition-all shadow-xl hover:shadow-2xl text-lg hover:scale-105" type="button">
            Launch Demo
          </button>
        </div>
      </section>
    </main>

    <!-- ABOUT PAGE -->
    <main id="page-about" class="hn-page hidden">
      <section class="py-20 bg-gradient-to-br from-slate-800 to-slate-900 text-white pt-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="max-w-3xl">
            <h1 class="text-5xl font-bold mb-6">About HelmetNet</h1>
            <p class="text-lg text-gray-300">A Computer Vision pipeline designed to detect helmet compliance for motorcycle riders through iterative research and development.</p>
          </div>
        </div>
      </section>

      <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="bg-white rounded-xl shadow-xl overflow-hidden border border-slate-200">
            <div class="p-8 md:p-12">
              <h2 class="text-4xl font-bold mb-8 text-slate-900">About HelmetNet</h2>

              <div class="grid lg:grid-cols-2 gap-8 mb-12">
                <div class="space-y-6">
                  <p class="text-lg text-gray-700 leading-relaxed">HelmetNet is a Computer Vision pipeline designed to detect helmet compliance for motorcycle riders. This portal demonstrates how model quality evolves through iterative dataset labeling, class definitions, and annotation discipline.</p>
                  <p class="text-lg text-gray-700 leading-relaxed">The system supports inference across <span class="font-semibold text-slate-800">Images</span>, <span class="font-semibold text-slate-800">Videos</span>, and <span class="font-semibold text-slate-800">Real-time streams</span>.</p>
                  <div class="bg-slate-50 p-6 rounded-xl border-l-4 border-amber-500">
                    <p class="text-gray-700 leading-relaxed">The redesign you are viewing emphasizes a professional "government portal" experience: guided navigation, clean configuration, and compliance-oriented insights.</p>
                  </div>
                </div>
                <div class="relative h-[350px] rounded-xl overflow-hidden shadow-lg border border-slate-200">
                  <img
                    src="https://images.unsplash.com/photo-1569932353341-b518d82f8a54?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb3RvcmN5Y2xlJTIwc2FmZXR5JTIwdGVjaG5vbG9neXxlbnwxfHx8fDE3Njg0ODI1NTd8MA&ixlib=rb-4.1.0&q=80&w=1080"
                    alt="Motorcycle safety technology"
                    class="w-full h-full object-cover"
                  />
                </div>
              </div>

              <div class="mb-12">
                <h3 class="text-2xl font-semibold mb-6 text-slate-900">Compliance Orientation</h3>
                <p class="text-gray-700 mb-6 leading-relaxed">HelmetNet is positioned as a compliance-support tool rather than a purely technical demo. The portal integrates prescriptive guidance referencing:</p>
                <div class="grid md:grid-cols-2 gap-6">
                  <div class="bg-slate-50 p-6 rounded-xl border-l-4 border-slate-700">
                    <h4 class="font-semibold text-lg mb-2 text-slate-800">Section 119(2) Road Transport Act 1987</h4>
                    <p class="text-gray-600">Non-compliance signaling and legal framework for helmet enforcement</p>
                  </div>
                  <div class="bg-slate-50 p-6 rounded-xl border-l-4 border-slate-700">
                    <h4 class="font-semibold text-lg mb-2 text-slate-800">SIRIM MS 1:2011</h4>
                    <p class="text-gray-600">Helmet compliance standard reference for safety certification</p>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-2xl font-semibold mb-6 text-slate-900">Technology Stack</h3>
                <div class="grid md:grid-cols-3 gap-6">
                  <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 hover:shadow-lg transition-shadow">
                    <i data-lucide="brain" class="size-10 text-slate-700 mb-3"></i>
                    <h4 class="font-semibold mb-2 text-slate-900">Deep Learning</h4>
                    <p class="text-sm text-gray-600">CNN-based models trained for helmet detection with 99.2% accuracy</p>
                  </div>
                  <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 hover:shadow-lg transition-shadow">
                    <i data-lucide="shield" class="size-10 text-slate-700 mb-3"></i>
                    <h4 class="font-semibold mb-2 text-slate-900">Computer Vision</h4>
                    <p class="text-sm text-gray-600">Multi-angle detection with real-time image processing capabilities</p>
                  </div>
                  <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 hover:shadow-lg transition-shadow">
                    <i data-lucide="users" class="size-10 text-slate-700 mb-3"></i>
                    <h4 class="font-semibold mb-2 text-slate-900">Edge Computing</h4>
                    <p class="text-sm text-gray-600">Sub-second detection time with local processing for privacy</p>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </section>

      <section class="py-16 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-12">
            <h2 class="text-4xl font-bold mb-4 text-slate-900">The 4 Experiments</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">Research progression addressing concrete failure modes and refining the dataset</p>
          </div>

          <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-white rounded-xl p-6 border border-slate-200 hover:shadow-xl transition-all duration-300">
              <div class="flex items-start gap-4 mb-4">
                <div class="flex-shrink-0 size-12 bg-gradient-to-br from-slate-700 to-slate-800 text-white rounded-xl flex items-center justify-center font-bold text-xl shadow-md">E1</div>
                <h3 class="text-lg font-semibold text-slate-900 pt-2">Poor cap detection (baseline limitations)</h3>
              </div>
              <div class="space-y-3 text-sm">
                <div>
                  <span class="font-semibold text-slate-800">Issue:</span>
                  <p class="text-gray-600 mt-1">The model frequently confused caps / head coverings with helmets, producing poor discrimination.</p>
                </div>
                <div>
                  <span class="font-semibold text-slate-800">Learning:</span>
                  <p class="text-gray-700 mt-1">Model performance is bottlenecked by labeling policy quality more than raw architecture.</p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl p-6 border border-slate-200 hover:shadow-xl transition-all duration-300">
              <div class="flex items-start gap-4 mb-4">
                <div class="flex-shrink-0 size-12 bg-gradient-to-br from-slate-700 to-slate-800 text-white rounded-xl flex items-center justify-center font-bold text-xl shadow-md">E2</div>
                <h3 class="text-lg font-semibold text-slate-900 pt-2">Helmet type classification refinement</h3>
              </div>
              <div class="space-y-3 text-sm">
                <div>
                  <span class="font-semibold text-slate-800">Issue:</span>
                  <p class="text-gray-600 mt-1">System struggled to distinguish between different helmet types and safety standards.</p>
                </div>
                <div>
                  <span class="font-semibold text-slate-800">Learning:</span>
                  <p class="text-gray-700 mt-1">Dataset diversity across helmet types and viewing angles is critical for robust detection.</p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl p-6 border border-slate-200 hover:shadow-xl transition-all duration-300">
              <div class="flex items-start gap-4 mb-4">
                <div class="flex-shrink-0 size-12 bg-gradient-to-br from-slate-700 to-slate-800 text-white rounded-xl flex items-center justify-center font-bold text-xl shadow-md">E3</div>
                <h3 class="text-lg font-semibold text-slate-900 pt-2">Real-time stream optimization</h3>
              </div>
              <div class="space-y-3 text-sm">
                <div>
                  <span class="font-semibold text-slate-800">Issue:</span>
                  <p class="text-gray-600 mt-1">Processing latency exceeded acceptable thresholds for live traffic monitoring.</p>
                </div>
                <div>
                  <span class="font-semibold text-slate-800">Learning:</span>
                  <p class="text-gray-700 mt-1">Architecture optimization and edge computing integration essential for real-time applications.</p>
                </div>
              </div>
            </div>

            <div class="bg-white rounded-xl p-6 border border-slate-200 hover:shadow-xl transition-all duration-300">
              <div class="flex items-start gap-4 mb-4">
                <div class="flex-shrink-0 size-12 bg-gradient-to-br from-slate-700 to-slate-800 text-white rounded-xl flex items-center justify-center font-bold text-xl shadow-md">E4</div>
                <h3 class="text-lg font-semibold text-slate-900 pt-2">Multi-angle detection enhancement</h3>
              </div>
              <div class="space-y-3 text-sm">
                <div>
                  <span class="font-semibold text-slate-800">Issue:</span>
                  <p class="text-gray-600 mt-1">Detection accuracy dropped significantly for side and rear viewing angles.</p>
                </div>
                <div>
                  <span class="font-semibold text-slate-800">Learning:</span>
                  <p class="text-gray-700 mt-1">Comprehensive multi-angle dataset coverage ensures consistent performance across deployment scenarios.</p>
                </div>
              </div>
            </div>

          </div>
        </div>
      </section>
    </main>

    <!-- DEMO PAGE -->
    <main id="page-demo" class="hn-page hidden">
      <div class="min-h-screen bg-slate-50 pt-16">
        <div class="bg-gradient-to-br from-slate-800 to-slate-900 border-b border-slate-700">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <h1 class="text-4xl font-bold text-white mb-3">HelmetNet Detection System</h1>
            <p class="text-slate-300 text-lg">AI-powered helmet compliance detection</p>
          </div>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="flex gap-6">
            <!-- Left Sidebar - Configuration -->
            <div class="w-80 flex-shrink-0">
              <div class="bg-white rounded-xl border border-slate-200 shadow-lg sticky top-24">
                <div class="p-6 border-b border-slate-200">
                  <h2 class="font-semibold text-slate-900 text-lg">Configuration</h2>
                </div>

                <div class="p-6 border-b border-slate-200">
                  <h3 class="text-sm font-semibold text-slate-700 mb-4">Model Settings</h3>

                  <div class="mb-6">
                    <label class="text-sm text-slate-600 mb-2 block" for="model-select">Model Path</label>
                    <select id="model-select" class="w-full bg-slate-50 text-slate-900 border border-slate-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-200 transition-all">
                      <option value="yolov8-v3" selected>YOLOv8 v3.2 (Recommended)</option>
                      <option value="faster-rcnn">Faster R-CNN</option>
                      <option value="efficientdet">EfficientDet-D4</option>
                    </select>
                  </div>

                  <div>
                    <label class="text-sm text-slate-600 mb-2 block" for="confidence-range">
                      Confidence Threshold
                      <span id="confidence-value" class="float-right text-amber-600 font-bold">50%</span>
                    </label>
                    <input id="confidence-range" type="range" min="0" max="100" value="50" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-amber-500" />
                    <div class="flex justify-between text-xs text-slate-500 mt-1"><span>0%</span><span>100%</span></div>
                  </div>
                </div>

                <div class="p-6">
                  <h3 class="text-sm font-semibold text-slate-700 mb-4">Session Stats</h3>
                  <div class="space-y-3">
                    <div class="flex justify-between text-sm">
                      <span class="text-slate-600">Total Detections</span>
                      <span id="stats-total" class="text-slate-900 font-semibold">0</span>
                    </div>
                    <div class="flex justify-between text-sm">
                      <span class="text-slate-600">Model Status</span>
                      <span class="text-green-600 font-semibold flex items-center gap-1"><span class="size-2 bg-green-500 rounded-full"></span>Loaded</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right Content Area -->
            <div class="flex-1">
              <div class="bg-white rounded-xl border border-slate-200 p-1.5 flex gap-2 mb-6 shadow-md">
                <button id="tab-image" class="flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all font-medium bg-amber-500 text-slate-900 shadow-lg" type="button">
                  <i data-lucide="upload" class="size-5"></i>
                  Image Detection
                </button>
                <button id="tab-video" class="flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all font-medium text-slate-600 hover:bg-slate-50" type="button">
                  <i data-lucide="video" class="size-5"></i>
                  Video Detection
                </button>
                <button id="tab-realtime" class="flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all font-medium text-slate-600 hover:bg-slate-50" type="button">
                  <i data-lucide="wifi" class="size-5"></i>
                  Real Time Detection
                </button>
              </div>

              <!-- IMAGE MODE -->
              <div id="mode-image" class="space-y-6">
                <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-lg">
                  <div class="flex items-start justify-between mb-6">
                    <div>
                      <h3 class="text-xl font-semibold text-slate-900 mb-2">Upload an Image</h3>
                      <p class="text-sm text-slate-600">Supported formats: JPG, PNG, BMP</p>
                    </div>
                    <div class="text-right bg-slate-50 px-4 py-3 rounded-lg">
                      <div class="text-xs text-slate-500 mb-1 font-medium">Quick Tips</div>
                      <div class="text-xs text-slate-700">Clear, well-lit images</div>
                      <div class="text-xs text-slate-700">Max size: 10MB</div>
                    </div>
                  </div>

                  <div class="border-2 border-dashed border-slate-300 rounded-xl p-12 text-center hover:border-amber-500 hover:bg-amber-50/30 transition-all">
                    <input id="file-upload" type="file" accept="image/*" class="hidden" />
                    <label for="file-upload" class="cursor-pointer flex flex-col items-center">
                      <i data-lucide="upload" class="size-14 text-slate-400 mb-4"></i>
                      <span class="text-slate-700 mb-2 font-medium text-lg">Drag and drop file here</span>
                      <span class="text-sm text-slate-500 mb-4">Image: JPEG/PNG, Max size: 10MB</span>
                      <span class="bg-amber-500 text-slate-900 px-8 py-3 rounded-xl font-semibold hover:bg-amber-400 transition-all shadow-md hover:shadow-lg">Browse Files</span>
                    </label>
                  </div>

                  <div id="run-detection-wrap" class="mt-6 hidden">
                    <button id="run-detection" class="w-full py-3 rounded-xl font-semibold transition-all shadow-md bg-amber-500 text-slate-900 hover:bg-amber-400 hover:shadow-lg" type="button">Run Detection</button>
                  </div>
                </div>

                <div id="uploaded-image-card" class="bg-white rounded-xl border border-slate-200 p-6 shadow-lg hidden">
                  <h3 class="text-lg font-semibold text-slate-900 mb-4">Uploaded Image</h3>
                  <div class="bg-slate-50 rounded-xl overflow-hidden border border-slate-200 relative">
                    <img id="uploaded-image" alt="Uploaded" class="w-full h-auto max-h-96 object-contain" />

                    <div id="processing-overlay" class="absolute inset-0 bg-slate-900/60 flex items-center justify-center hidden">
                      <div class="text-center">
                        <i data-lucide="activity" class="size-16 text-amber-400 animate-spin mx-auto mb-4"></i>
                        <div class="text-white text-xl font-semibold">Analyzing Image...</div>
                        <div class="text-slate-300 mt-2">Processing with AI algorithms</div>
                      </div>
                    </div>

                  </div>
                </div>

                <div class="bg-white rounded-xl border border-slate-200 shadow-lg">
                  <div class="p-6 border-b border-slate-200 flex items-center justify-between">
                    <h3 class="text-xl font-semibold text-slate-900">Results</h3>
                    <span class="text-sm text-slate-600 bg-slate-100 px-3 py-1 rounded-lg">Model: HelmetNet</span>
                  </div>

                  <div class="p-6">
                    <div class="mb-6">
                      <h4 class="font-semibold text-slate-900 mb-3 flex items-center gap-2">
                        Detections Table
                        <span class="text-xs text-slate-500 font-normal">Sorted by confidence</span>
                      </h4>

                      <div id="results-empty" class="text-center py-12 border border-slate-200 rounded-xl bg-slate-50">
                        <p class="text-slate-500">No results yet. Upload an image and click "Run detection".</p>
                      </div>

                      <div id="results-table-wrap" class="overflow-x-auto border border-slate-200 rounded-xl hidden">
                        <table class="w-full text-sm">
                          <thead class="bg-slate-50">
                            <tr class="border-b border-slate-200">
                              <th class="text-left py-3 px-4 font-semibold text-slate-700">#</th>
                              <th class="text-left py-3 px-4 font-semibold text-slate-700">LABEL</th>
                              <th class="text-left py-3 px-4 font-semibold text-slate-700">CONFIDENCE</th>
                              <th class="text-left py-3 px-4 font-semibold text-slate-700">COMPLIANCE</th>
                              <th class="text-left py-3 px-4 font-semibold text-slate-700">BBOX (X,Y,W,H)</th>
                            </tr>
                          </thead>
                          <tbody id="results-tbody"></tbody>
                        </table>
                      </div>
                    </div>

                    <div class="bg-amber-50 border border-amber-200 p-5 rounded-xl text-sm text-slate-700">
                      <p class="mb-2">
                        <strong class="text-slate-900">Integration approach:</strong> Replace mock generation with a backend endpoint returning
                        <code class="bg-white border border-amber-300 px-2 py-0.5 rounded text-slate-800">{ detections: [{ label, conf, x, y, w, h }] }</code>.
                      </p>
                      <p class="text-slate-600">Tip: For your final demo, add "export report" (model version, threshold, timestamp, detections).</p>
                    </div>
                  </div>
                </div>

              </div>

              <!-- VIDEO MODE -->
              <div id="mode-video" class="bg-white rounded-xl border border-slate-200 p-16 shadow-lg hidden">
                <div class="text-center">
                  <i data-lucide="video" class="size-20 text-slate-300 mx-auto mb-4"></i>
                  <h3 class="text-2xl font-semibold text-slate-900 mb-3">Video Detection</h3>
                  <p class="text-slate-600 mb-6 max-w-md mx-auto">Upload a video file to process frame-by-frame helmet detection</p>
                  <button class="bg-amber-500 text-slate-900 px-8 py-3 rounded-xl font-semibold hover:bg-amber-400 transition-all shadow-md" type="button" disabled>Coming Soon</button>
                </div>
              </div>

              <!-- REALTIME MODE -->
              <div id="mode-realtime" class="bg-white rounded-xl border border-slate-200 p-16 shadow-lg hidden">
                <div class="text-center">
                  <i data-lucide="wifi" class="size-20 text-slate-300 mx-auto mb-4"></i>
                  <h3 class="text-2xl font-semibold text-slate-900 mb-3">Real Time Detection</h3>
                  <p class="text-slate-600 mb-6 max-w-md mx-auto">Connect to a webcam or RTSP stream for live helmet detection</p>
                  <button class="bg-amber-500 text-slate-900 px-8 py-3 rounded-xl font-semibold hover:bg-amber-400 transition-all shadow-md" type="button" disabled>Coming Soon</button>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    (function () {
      const pages = {
        home: document.getElementById('page-home'),
        about: document.getElementById('page-about'),
        demo: document.getElementById('page-demo')
      };

      const nav = {
        brand: document.getElementById('nav-brand'),
        home: document.getElementById('nav-home'),
        about: document.getElementById('nav-about'),
        demo: document.getElementById('nav-demo')
      };

      const hero = {
        tryDemo: document.getElementById('hero-try-demo'),
        learnMore: document.getElementById('hero-learn-more'),
        ctaDemo: document.getElementById('cta-launch-demo')
      };

      function setActiveNav(page) {
        const base = 'transition-colors font-medium';
        nav.home.className = base + (page === 'home' ? ' text-slate-900 font-semibold' : ' text-slate-600 hover:text-slate-900');
        nav.about.className = base + (page === 'about' ? ' text-slate-900 font-semibold' : ' text-slate-600 hover:text-slate-900');
        // Demo button stays styled; only adjust shadow emphasis slightly.
        nav.demo.className = 'px-6 py-2.5 rounded-xl transition-all font-semibold shadow-md hover:shadow-lg ' +
          (page === 'demo' ? 'bg-amber-500 text-slate-900' : 'bg-amber-500 text-slate-900 hover:bg-amber-400');
      }

      function showPage(page) {
        Object.entries(pages).forEach(([k, el]) => {
          if (!el) return;
          el.classList.toggle('hidden', k !== page);
        });
        setActiveNav(page);
        window.scrollTo({ top: 0, behavior: 'smooth' });
        // Re-render lucide icons after DOM updates.
        if (window.lucide) window.lucide.createIcons();
      }

      nav.brand.addEventListener('click', () => showPage('home'));
      nav.home.addEventListener('click', () => showPage('home'));
      nav.about.addEventListener('click', () => showPage('about'));
      nav.demo.addEventListener('click', () => showPage('demo'));

      hero.tryDemo.addEventListener('click', () => showPage('demo'));
      hero.learnMore.addEventListener('click', () => showPage('about'));
      hero.ctaDemo.addEventListener('click', () => showPage('demo'));

      // Demo: tabs
      const tabImage = document.getElementById('tab-image');
      const tabVideo = document.getElementById('tab-video');
      const tabRealtime = document.getElementById('tab-realtime');

      const modeImage = document.getElementById('mode-image');
      const modeVideo = document.getElementById('mode-video');
      const modeRealtime = document.getElementById('mode-realtime');

      function setActiveMode(mode) {
        const active = 'flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all font-medium bg-amber-500 text-slate-900 shadow-lg';
        const inactive = 'flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all font-medium text-slate-600 hover:bg-slate-50';
        tabImage.className = (mode === 'image') ? active : inactive;
        tabVideo.className = (mode === 'video') ? active : inactive;
        tabRealtime.className = (mode === 'realtime') ? active : inactive;

        modeImage.classList.toggle('hidden', mode !== 'image');
        modeVideo.classList.toggle('hidden', mode !== 'video');
        modeRealtime.classList.toggle('hidden', mode !== 'realtime');

        if (window.lucide) window.lucide.createIcons();
      }

      tabImage.addEventListener('click', () => setActiveMode('image'));
      tabVideo.addEventListener('click', () => setActiveMode('video'));
      tabRealtime.addEventListener('click', () => setActiveMode('realtime'));

      // Demo: config
      const confidenceRange = document.getElementById('confidence-range');
      const confidenceValue = document.getElementById('confidence-value');
      confidenceRange.addEventListener('input', (e) => {
        confidenceValue.textContent = `${e.target.value}%`;
      });

      // Demo: upload + mock detections
      const fileUpload = document.getElementById('file-upload');
      const runWrap = document.getElementById('run-detection-wrap');
      const runBtn = document.getElementById('run-detection');
      const uploadedCard = document.getElementById('uploaded-image-card');
      const uploadedImg = document.getElementById('uploaded-image');
      const overlay = document.getElementById('processing-overlay');

      const resultsEmpty = document.getElementById('results-empty');
      const resultsTableWrap = document.getElementById('results-table-wrap');
      const resultsBody = document.getElementById('results-tbody');
      const statsTotal = document.getElementById('stats-total');

      let processingTimer = null;

      function setProcessing(isProcessing) {
        overlay.classList.toggle('hidden', !isProcessing);
        runBtn.disabled = isProcessing;
        runBtn.className = 'w-full py-3 rounded-xl font-semibold transition-all shadow-md ' +
          (isProcessing ? 'bg-slate-300 text-slate-500 cursor-not-allowed' : 'bg-amber-500 text-slate-900 hover:bg-amber-400 hover:shadow-lg');
        runBtn.textContent = isProcessing ? 'Processing...' : 'Run Detection';
        if (window.lucide) window.lucide.createIcons();
      }

      function renderDetections(detections) {
        resultsBody.innerHTML = '';
        if (!detections.length) {
          resultsEmpty.classList.remove('hidden');
          resultsTableWrap.classList.add('hidden');
          statsTotal.textContent = '0';
          return;
        }

        detections.forEach((d) => {
          const tr = document.createElement('tr');
          tr.className = 'border-b border-slate-100 hover:bg-slate-50';
          tr.innerHTML = `
            <td class="py-3 px-4 text-slate-600">${d.id}</td>
            <td class="py-3 px-4 text-slate-900 font-medium">${d.label}</td>
            <td class="py-3 px-4"><span class="text-green-600 font-semibold">${d.confidence}%</span></td>
            <td class="py-3 px-4">${d.compliance === 'COMPLIANT'
              ? `<span class="inline-flex items-center gap-1 text-green-600 font-medium"><i data-lucide="check-circle-2" class="size-4"></i>${d.compliance}</span>`
              : `<span class="text-slate-500">${d.compliance}</span>`}
            </td>
            <td class="py-3 px-4 text-slate-600 font-mono text-xs">${d.bbox}</td>
          `;
          resultsBody.appendChild(tr);
        });

        statsTotal.textContent = String(detections.length);
        resultsEmpty.classList.add('hidden');
        resultsTableWrap.classList.remove('hidden');

        if (window.lucide) window.lucide.createIcons();
      }

      fileUpload.addEventListener('change', (event) => {
        const file = event.target.files && event.target.files[0];
        if (!file) return;

        // Reset existing state
        if (processingTimer) {
          clearTimeout(processingTimer);
          processingTimer = null;
        }
        setProcessing(false);
        renderDetections([]);

        const reader = new FileReader();
        reader.onload = () => {
          uploadedImg.src = reader.result;
          uploadedCard.classList.remove('hidden');
          runWrap.classList.remove('hidden');
        };
        reader.readAsDataURL(file);
      });

      runBtn.addEventListener('click', () => {
        if (!uploadedImg.src) return;
        renderDetections([]);
        setProcessing(true);

        processingTimer = setTimeout(() => {
          const mockDetections = [
            { id: 1, label: 'Helmet', confidence: 96.8, compliance: 'COMPLIANT', bbox: '245, 120, 180, 160' },
            { id: 2, label: 'Motorcycle', confidence: 98.5, compliance: 'N/A', bbox: '150, 200, 400, 350' },
            { id: 3, label: 'Person', confidence: 97.2, compliance: 'N/A', bbox: '220, 100, 200, 380' }
          ];
          setProcessing(false);
          renderDetections(mockDetections);
        }, 2000);
      });

      // Initial render
      document.addEventListener('DOMContentLoaded', () => {
        if (window.lucide) window.lucide.createIcons();
        showPage('home');
        setActiveMode('image');
        renderDetections([]);
      });

      // If Streamlit injects this HTML after DOMContentLoaded, still render icons.
      if (window.lucide) window.lucide.createIcons();
    })();
  </script>
</body>
</html>
